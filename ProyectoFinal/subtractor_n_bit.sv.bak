
//Nbit - subtractor -----------
module subtractor_n_bit #(parameter N = 4)(
    input [N-1:0] a,
    input [N-1:0] b,
    output [N-1:0] difference,
    output bout
);
    wire [N:0] b_;
    genvar i;
    generate
        for (i = 0; i < N; i = i + 1) begin : SUB_LOOP
            if (i == 0) begin
                full_subtractor FS1(.a(a[i]), .b(b[i]), .bin(1'b0), .difference(difference[i]), .bout(b_[i]));
            end else begin
                full_subtractor FS(.a(a[i]), .b(b[i]), .bin(b_[i-1]), .difference(difference[i]), .bout(b_[i]));
            end
        end
    endgenerate
    assign bout = b_[N-1];
endmodule